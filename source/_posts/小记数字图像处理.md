---
title: 小记数字图像处理
author: Yuxico
categories: 旧日
comments: true
katex: true
cover: 'https://s2.loli.net/2024/03/14/ZanDKIpgjequVHw.jpg'
tags:
  - 图像处理
  - 电子
abbrlink: fbbe638c
date: 2022-03-10 19:09:00
---

# 数字图像处理第3章图像增强
~~若数学公式加载失败，请移步[主站](https://yxcnb.ml/index.php/archives/77/)~~

## γ校正
非线性部件的输人-输出特性，都是一个能够反映各自特性的幂函数，即如果输人的光信号强度为L,输出的电信号强度为I,则输入、输出之间的关系满足

$I = c · L^γ$


c为放大倍数（常数），γ为幂函数的指数，用于衡量非线性部件的转换特性，称为**幂律转换特性**，又称γ特性，对非线性关系的校正称为**γ校正**
<br/>
*对比度计算公式*



$C=\sum_{\delta}\delta(i,j)^2P_\delta(i,j)$


计算方式有四近邻或八近邻，略

## 线性对比度展宽
线性对比度展宽处理，实际上是图像灰度值的线性映射。假设处理后图像与处理前图像的量化级数相同，即处理前后图像的灰度分布范围均为[0,255],则如果需要进行对比度展宽,从原理上说，只能通过抑制非重要信息的对比度来腾出空间给重要信息进行对比度的展宽。
设原图像的灰度为 f(i,j),处理后图像的灰度为g(i, j),设原图重要景物灰度在[fa，fb]范围内，处理后灰度分布在[ga，gb]内，α<1,γ<1,表示对非重要景物的抑制，β>1表示重要景物的对比度展宽增强。
对比度线性展宽计算公式

$$
g(i,j) =
\begin{cases}
\alpha f(i,j),  & 0\le f(i,j)\lt f_a \\[2ex]
\beta(f(i,j)-f_a)+g_a, & f_a\le f(i,j)\lt f_b \\[2ex]
\gamma(f(i,j)-f_b)+g_b, &f_b\le f(i,j)\lt 255
\end{cases}
$$

(i=1,2,…,m;j=1,2,…,n)
其中，$\alpha =\frac{g_a}{f_a},\beta =\frac{g_b-g_a}{f_b-f_a},\gamma =\frac{255-g_b}{255-g_b}$，图像的大小为m*n

当得到一张矩阵形式的灰度图像时，若要进行线性对比度展宽，需先画出灰度直方图，确认原图重要景物的灰度分布范围fa，fb，根据需要确认处理后的灰度范围ga，gb，代入公式进行计算

## 灰级窗与灰级窗切片
灰级窗是将灰度值在一定范围内的目标进行对比度增强，使范围内像素映射到另一范围，使其达到分离图像区域（切片）以及高亮（映射）的效果，灰级窗映射计算公式


$$
g(i,j) =
\begin{cases}
0,  & 0\le f(i,j)\lt f_a \\[2ex]
\beta(f(i,j)-f_a), & f_b\le f(i,j)\lt f_a \\[2ex]
0, &f_b\le f(i,j)\lt 255
\end{cases}
$$


(i=1,2,…,m;j=1,2,…,n)
其中，$\beta =\frac{255}{f_b-f_a}$，图像的大小为m*n
灰级窗切片计算公式


$$
g(i,j) =
\begin{cases}
0,  & 0\le f(i,j)\lt f_a \\[2ex]
255, & f_a\le f(i,j)\lt f_b \\[2ex]
0, &f_b\le f(i,j)\lt 255
\end{cases}
$$


(i=1,2,…,m;j=1,2,…,n)，图像的大小为m*n
## 动态范围调整

### 线性动态范围调整
线性动态范围是先进行亮暗限幅，即将图像中黑的像素值调大,由0调整到a，白的像素值调小，由255调整到b。然后将区域[a,b]进行线性映射到[0,255]范围内。使一部分较暗的像素点以及较亮的像素点进入饱和，中间部分的像素值因为可以进行对比度扩展，而使得其细节部分看的更加清楚，结果是目标区域的像素得到增强，两边区域的细节丢失。线性动态范围调整公式


$$
g(i,j) =
\begin{cases}
0,  & f(i,j)\lt f_a \\[2ex]
\frac{255}{b-a}[f(i,j)-a], & f_a\le f(i,j)\lt f_b \\[2ex]
255, &f(i,j)\gt f_b
\end{cases}
$$


(i=1,2,…,m;j=1,2,…,n)，图像的大小为m*n,[a,b]为灰度变化范围
### 非线性动态范围调整
非线性动态范围调整的作用是抑制高亮度区域，扩展低亮度区域，一定程度解决了景物中高亮度区的信号掩盖暗区信号问题。
非线性动态范围调整的计算公式
g(i,j)=c · lg(1+f(i,j))&emsp;(i=1,2,…,m;j=1,2,…,n)
首先计算$\frac{灰度变化范围}{lg(灰度变化范围+1)}$，再计算g(i,j)
## 直方图均衡化
对图像中像素个数多的灰度值进行展宽，对像素个数多的灰度值进行进行归并，设f(i,j),g(i,j)(i=1,2,…,M;j=1,2,…,N)分别为原图像和处理后图像图像的灰度变化范围为[0，255]，方法如下
①求原图$[f(i,j)]_{M*N}$的灰度直方图，设用256维的向量$h_f$表示
②由$h_f$求原图的灰度分布概率，记作$p_f$,则


$$
p_f(i)=\frac{1}{N_f} · h_f(i), i=0,1,2,…,255
$$


$N_f$=M*N,为图像的总像素个数
③计算图像各个灰度值的累计分布概率，记作$p_a$，则


$$
p_a(i)=\sum_{k=0}^i p_f(k), i=0,1,2,…,255
p_a(0)=0
$$


④进行直方图均衡化计算处理后像素值g(i,j)=255 · $p_a$(k)

## 同态滤波
f(x,y)=i(x,y) · r(x,y)
两边取对数得lnf(x,y)=lni(x,y)+lnr(x,y)
两边进行傅里叶变换得F(u,v)=I(u,v)+R(u,v)
用频域滤波函数H(u,v)进行滤波得H(u,v)F(u,v)=H(u,v)I(u,v)+H(u,v)R(u,v)，$H_f(u,v)=H_i(u,v)+H_r(u,v)$
反变换到空域得$h_f(x,y)=h_i(x,y)+h_r(x,y)$
取指数得同态滤波图像
g(x,y)=exp|$h_f(x,y)$|=exp|$h_i(x,y)$|=exp|$h_r(x,y)$|
## [伪彩色](https://baike.baidu.com/item/%E4%BC%AA%E5%BD%A9%E8%89%B2/3429626)
以上为数字图像处理（科学出版社）第3章给出的图像增强方法，附习题
![数字图像处理例题.png](https://s2.loli.net/2024/03/14/NyVFMt3L1jJ8OkS.png)