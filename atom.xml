<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Yuxico的学习小站</title>
  
  
  <link href="https://yuxcoo.github.io/atom.xml" rel="self"/>
  
  <link href="https://yuxcoo.github.io/"/>
  <updated>2024-03-14T14:43:13.845Z</updated>
  <id>https://yuxcoo.github.io/</id>
  
  <author>
    <name>Yuxico</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>数字跑表</title>
    <link href="https://yuxcoo.github.io/post/4a12443.html"/>
    <id>https://yuxcoo.github.io/post/4a12443.html</id>
    <published>2022-04-13T06:22:00.000Z</published>
    <updated>2024-03-14T14:43:13.845Z</updated>
    
    <content type="html"><![CDATA[<h1>一、课程设计的地位与任务</h1><p>《系统设计与仿真课程设计》是电子信息、通信工程专业安排的必修的一门电子电路综合技能训练课程。通过本课程的学习，使同学们掌握常用电子元器件的应用，熟练掌握模拟集成电路、数字集成电路、单片机集成电路的设计方法与应用；理解中规模、大规模集成电路的可靠性设计的概念和方法，学会电子产品的系统设计方法，为学习智能仪器等后续课程和专业技术工作打下良好的基础。</p><h1>二、课程设计的基本内容和要求</h1><h2 id="第一部分：-EDA技术仿真">第一部分： EDA技术仿真</h2><p>用Verilog HDL语言设计如下数字电路，并仿真验证：</p><h3 id="1-多人表决器">1. 多人表决器</h3><p>设计1个多人表决器，同意为1，不同意为0，同意者过半则表决通过，指示灯亮，否则指示灯灭。表决人数和描述方式自行选择。</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">module</span> <span class="string">vote7(</span></span><br><span class="line"><span class="attr">input</span> <span class="string">[7:1] vote,</span></span><br><span class="line"><span class="attr">output</span> <span class="string">reg pass);</span></span><br><span class="line"><span class="attr">reg</span> <span class="string">[2:0] sum;</span></span><br><span class="line"><span class="attr">integer</span> <span class="string">i;</span></span><br><span class="line"><span class="attr">always@(vote)</span></span><br><span class="line"><span class="attr">begin</span> <span class="string">sum=0;</span></span><br><span class="line"><span class="attr">for(i</span>=<span class="string">1;i&lt;=7;i=i+1)</span></span><br><span class="line"><span class="attr">if(vote[i])</span> <span class="string">sum=sum+1;</span></span><br><span class="line"><span class="attr">if(sum[2])</span> <span class="string">pass=1;</span></span><br><span class="line"><span class="attr">else</span> <span class="string">pass=0;</span></span><br><span class="line"><span class="attr">end</span></span><br><span class="line"><span class="attr">endmodule</span></span><br></pre></td></tr></table></figure><p>7人表决器，大于4人通过(0100)<br>激励文件</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">module tb_vote7();</span><br><span class="line">reg [<span class="number">7</span>:<span class="number">1</span>] vote;</span><br><span class="line">wire pass;</span><br><span class="line">vote7 i1(</span><br><span class="line">.pass(pass),</span><br><span class="line">.vote(vote));</span><br><span class="line">initial begin</span><br><span class="line">vote=<span class="number">7</span>&#x27;b1110001;</span><br><span class="line">#<span class="number">50</span> vote=<span class="number">7</span>&#x27;b1100000;</span><br><span class="line">#<span class="number">50</span> vote=<span class="number">7</span>&#x27;b1101101;  </span><br><span class="line">#<span class="number">50</span> $finish;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">endmodule</span><br></pre></td></tr></table></figure><h3 id="2-流水灯控制器">2. 流水灯控制器</h3><p>流水灯控制器包含三个输入端口：时钟端，使能端和清零端。<br>采用有限状态机实现流水灯控制器，控制LED灯实现多种花型.</p><ol><li>从左到右依次逐个点亮，全灭；</li><li>从两边往中间逐个亮，全灭；</li><li>循环执行上诉过程。</li><li>学生选定题目后，查找相关资料，熟悉课程题目的方向和设计要求与具体基本指标，确定可行的方案。首先进行在仿真软件，得出正确合理的仿真结果；然后进行下载和调试，最后运行其实现的功能。在基本的功能上，学生可以自我扩展电路功能，创新设计效果，完善电路实现功能。</li></ol><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">module</span> <span class="string">flow(clk,clr,led,rst);</span></span><br><span class="line"><span class="attr">input</span> <span class="string">clk,clr,rst;</span></span><br><span class="line"><span class="attr">output</span> <span class="string">reg [7:0] led;</span></span><br><span class="line"><span class="attr">integer</span> <span class="string">i;</span></span><br><span class="line"><span class="attr">always@(posedge</span> <span class="string">clk)</span></span><br><span class="line"><span class="attr">begin</span> <span class="string"></span></span><br><span class="line"><span class="attr">if(!rst)</span> <span class="string">begin led&lt;=8&#x27;h00;end</span></span><br><span class="line"><span class="attr">if(!clr)</span> <span class="string">begin led&lt;=8&#x27;h80;i&lt;=4&#x27;b0000;end</span></span><br><span class="line"><span class="attr">else</span></span><br><span class="line"><span class="attr">begin</span> <span class="string">case(i)</span></span><br><span class="line"><span class="attr">4&#x27;b0000</span>:<span class="string">begin led&lt;=8&#x27;h80;i=4&#x27;b0001;end</span></span><br><span class="line"><span class="attr">4&#x27;b0001</span>:<span class="string">begin led&lt;=8&#x27;h40;i=4&#x27;b0010;end</span></span><br><span class="line"><span class="attr">4&#x27;b0010</span>:<span class="string">begin led&lt;=8&#x27;h20;i=4&#x27;b0011;end</span></span><br><span class="line"><span class="attr">4&#x27;b0011</span>:<span class="string">begin led&lt;=8&#x27;h10;i=4&#x27;b0100;end</span></span><br><span class="line"><span class="attr">4&#x27;b0100</span>:<span class="string">begin led&lt;=8&#x27;h08;i=4&#x27;b0101;end</span></span><br><span class="line"><span class="attr">4&#x27;b0101</span>:<span class="string">begin led&lt;=8&#x27;h04;i=4&#x27;b0110;end</span></span><br><span class="line"><span class="attr">4&#x27;b0110</span>:<span class="string">begin led&lt;=8&#x27;h02;i=4&#x27;b0111;end</span></span><br><span class="line"><span class="attr">4&#x27;b0111</span>:<span class="string">begin led&lt;=8&#x27;h01;i=4&#x27;b1000;end</span></span><br><span class="line"><span class="attr">4&#x27;b1000</span>:<span class="string">begin led&lt;=8&#x27;h00;i=4&#x27;b1001;end</span></span><br><span class="line"><span class="attr">4&#x27;b1001</span>:<span class="string">begin led&lt;=8&#x27;h81;i=4&#x27;b1010;end</span></span><br><span class="line"><span class="attr">4&#x27;b1010</span>:<span class="string">begin led&lt;=8&#x27;h42;i=4&#x27;b1011;end</span></span><br><span class="line"><span class="attr">4&#x27;b1011</span>:<span class="string">begin led&lt;=8&#x27;h24;i=4&#x27;b1100;end</span></span><br><span class="line"><span class="attr">4&#x27;b1100</span>:<span class="string">begin led&lt;=8&#x27;h18;i=4&#x27;b1101;end</span></span><br><span class="line"><span class="attr">4&#x27;b1101</span>:<span class="string">begin led&lt;=8&#x27;h00;i=4&#x27;b0000;end</span></span><br><span class="line"><span class="attr">endcase</span></span><br><span class="line"><span class="attr">end</span></span><br><span class="line"><span class="attr">end</span></span><br><span class="line"><span class="attr">endmodule</span></span><br></pre></td></tr></table></figure><p>这里使用16进制表示灯的花型，使用顺序编码编号状态，状态编码也可采用格雷码等实现，花型可采用一位热码编码、约翰逊编码，8421BCD等实现<br>激励文件</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">module tb_flow();</span><br><span class="line">parameter <span class="type">DELY</span>=<span class="number">20</span>;</span><br><span class="line">reg clk;</span><br><span class="line">reg clr;</span><br><span class="line">reg rst;</span><br><span class="line">wire[<span class="number">7</span>:<span class="number">0</span>] led;</span><br><span class="line">flow i1(</span><br><span class="line">    .clk(clk),</span><br><span class="line">    .clr(clr),</span><br><span class="line">    .rst(rst),</span><br><span class="line">    .led(led));</span><br><span class="line">initial begin</span><br><span class="line">clk=<span class="number">1</span>&#x27;b0;</span><br><span class="line">clr=<span class="number">1</span>&#x27;b0;</span><br><span class="line">rst=<span class="number">1</span>&#x27;b1;</span><br><span class="line">#(<span class="type">DELY</span>*<span class="number">2</span>) clr=<span class="number">1</span>&#x27;b1;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">always begin</span><br><span class="line">#(<span class="type">DELY</span>/<span class="number">2</span>) clk=\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\x7eclk;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">endmodule</span><br></pre></td></tr></table></figure><h2 id="第二部分：综合设计">第二部分：综合设计</h2><p>综合设计分二部分的内容：CPLD/FPGA仿真设计。综合题目有5个，学生可以自行选择其中一个题目进行，也可以自己拟订题目，但必须征得指导老师的同意方能进行。学生选定题目后，查找相关资料，熟悉课程题目的方向和设计要求与具体基本指标，确定可行的方案。在基本的功能上，学生可以自我扩展电路功能，创新设计效果，完善电路实现功能。</p><h3 id="1、-基于Verilog-HDL数字频率计的设计">1、 基于Verilog HDL数字频率计的设计</h3><p><strong>技术要求：</strong></p><ol><li>频率测量范围：     10hz—1Mhz</li><li>测量分辨率：       1hz</li><li>测量误差：         ±1</li><li>测量显示：         6位数码管显示<br><strong>设计任务：</strong></li><li>说明设计具体思路。</li><li>画出系统模块框图。</li><li>画出系统顶层原理图。</li><li>按设计技术要求编写程序。</li><li>画出系统功能仿真波形图。</li><li>设计出硬件实现电路图，下载测试。<br>完成课程设计报告一份。</li></ol><h3 id="2、-基于Verilog-HDL数字交通灯的设计">2、 基于Verilog HDL数字交通灯的设计</h3><p><strong>技术要求：</strong><br>交通灯的基本工作状态：</p><ol><li>(主干道)绿灯：车辆前行；</li><li>(次干道）红灯：禁止通行；</li><li>(主干道)黄灯：过渡状态；</li><li>(主干道)红灯：禁止车辆通行；</li><li>(次干道)绿灯：车辆前行。<br>● 注：红黄绿等均为前行方向的信号指示灯。<br><strong>设计任务：</strong></li><li>说明设计具体思路。</li><li>画出系统模块框图。</li><li>画出系统顶层原理图。</li><li>按设计技术要求编写程序。</li><li>画出系统功能仿真波形图。</li><li>设计出硬件实现电路图，下载测试。<br>完成课程设计报告一份。</li></ol><h3 id="3、-基于Verilog-HDL数字钟的设计">3、 基于Verilog HDL数字钟的设计</h3><p><strong>技术要求：</strong></p><ol><li>该时钟具有校准时间、闹铃、整点报时等功能。</li><li>秒表至少有3个输入端，分别为时钟输入、校准信号、复位按键，也可以考虑一些扩展功能。</li><li>秒、分钟信号、小时采用BCD码计数方式。<br><strong>设计任务：</strong></li><li>说明设计具体思路。</li><li>画出系统模块框图。</li><li>画出系统顶层原理图。</li><li>按设计技术要求编写程序。</li><li>画出系统功能仿真波形图。</li><li>设计出硬件实现电路图，下载测试。<br>完成课程设计报告一份。</li></ol><h3 id="4、-基于Verilog-HDL数字跑表的设计">4、 基于Verilog HDL数字跑表的设计</h3><p>设计任务：设计一个以0.01s为基准计时信号的实用数字式跑表<br><strong>技术要求：</strong></p><ol><li>跑表计时显示范围0.01s-59min59.99s，计时精度为10ms。</li><li>具有清零、启动计时、暂停计时功能。</li><li>时钟源误差不超过0.01s。<br><strong>设计任务：</strong></li><li>说明设计具体思路。</li><li>画出系统模块框图。</li><li>画出系统顶层原理图。</li><li>按设计技术要求编写程序。</li><li>画出系统功能仿真波形图。</li><li>设计出硬件实现电路图，下载测试。<br>完成课程设计报告一份。</li></ol><h3 id="5、-基于Verilog-HDL-汽车尾灯控制器的设计">5、 基于Verilog HDL 汽车尾灯控制器的设计</h3><p>设计任务：汽车尾灯控制器<br><strong>技术要求：</strong></p><ol><li>正常行驶时，指示灯不亮；</li><li>刹车时，指示灯亮；</li><li>左转时，左侧的一盏灯闪烁，亮1s，灭1s；</li><li>右转时，右侧的一盏灯闪烁，亮1s，灭1s；</li><li>发生故障和事故时，双侧的灯都闪烁，亮0.5s，灭0.5s；<br><strong>设计任务：</strong></li><li>说明设计具体思路。</li><li>画出系统模块框图。</li><li>画出系统顶层原理图。</li><li>按设计技术要求编写程序。</li><li>画出系统功能仿真波形图。</li><li>设计出硬件实现电路图，下载测试。<br>完成课程设计报告一份。<br></br><br>这里我选择的是数字跑表设计<br>在完成基本功能后添加了从当前时间开始倒计时，60秒倒计时，每计时1分钟短暂蜂鸣，倒计时结束持续蜂鸣功能</li></ol><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="attr">`timescale</span> <span class="string">1ns / 1ps</span></span><br><span class="line"><span class="attr">//////////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"></span><br><span class="line"><span class="attr">module</span> <span class="string">chronograph(</span></span><br><span class="line"><span class="attr">input</span>   <span class="string">clk,pause,reset,reversal,cnt,</span></span><br><span class="line">    <span class="attr">output</span>  <span class="string">reg[3:0] bai1,bai2,miao1,miao2,fen1,fen2,buzzer=0);//buzzer蜂鸣不用4位寄存器，懒得另外写了  </span></span><br><span class="line"><span class="attr">always</span> <span class="string">@(posedge clk, posedge reset)//百分秒计时</span></span><br><span class="line"><span class="attr">if(!reversal)</span></span><br><span class="line">    <span class="attr">begin</span></span><br><span class="line">        <span class="attr">if(reset)begin</span> <span class="string">bai1&lt;=0;bai2&lt;=0; end  //复位信号               //else if(pause);//begin bai1&lt;=bai1;a&lt;=bai1;end</span></span><br><span class="line">        <span class="attr">else</span> <span class="string">if(!pause)</span></span><br><span class="line">            <span class="attr">begin</span>   <span class="string">if(bai2==9&amp;&amp;bai1==9) begin bai2&lt;=0;bai1&lt;=0;miao1&lt;=miao1+1; end   //百分秒计满后秒进位</span></span><br><span class="line">                    <span class="attr">else</span> <span class="string">begin</span></span><br><span class="line">                        <span class="attr">if(bai1</span>=<span class="string">=9) begin bai1&lt;=0;bai2&lt;=bai2+1;end  //百分秒第一位进位</span></span><br><span class="line">                        <span class="attr">else</span> <span class="string">begin bai1&lt;=bai1+1;end                     </span></span><br><span class="line">                        <span class="attr">end</span></span><br><span class="line">            <span class="attr">end</span></span><br><span class="line">    <span class="attr">end</span></span><br><span class="line"><span class="attr">else</span> <span class="string">if(reversal)  //倒计时</span></span><br><span class="line"><span class="attr">begin</span></span><br><span class="line">        <span class="attr">if(reset)begin</span> <span class="string">bai1&lt;=0;bai2&lt;=0; end//复位</span></span><br><span class="line">        <span class="attr">else</span> <span class="string">if(!pause&amp;&amp;cnt==0)//从当前时间倒计时</span></span><br><span class="line">            <span class="attr">begin</span>   <span class="string">if(bai2==0&amp;&amp;bai1==0&amp;&amp;miao1&gt;0) begin bai2&lt;=9;bai1&lt;=9;miao1&lt;=miao1-1; end</span></span><br><span class="line">                     <span class="attr">else</span> <span class="string">if(bai2==0&amp;&amp;bai1==0&amp;&amp;miao1==0&amp;&amp;miao2&gt;0)begin miao1&lt;=9;bai1&lt;=9;bai2&lt;=9;miao2&lt;=miao2-1;end//代码有瑕疵，其实还有别的情况，但是懒得改了，功能基本完成</span></span><br><span class="line">                    <span class="attr">else</span> <span class="string">begin//同正常计时的逆向</span></span><br><span class="line">                        <span class="attr">if(bai1</span>=<span class="string">=0&amp;&amp;bai2&gt;0) begin bai1&lt;=9;bai2&lt;=bai2-1;end</span></span><br><span class="line">                        <span class="attr">else</span> <span class="string">if(bai2==0&amp;&amp;bai1==0&amp;&amp;miao1==0);</span></span><br><span class="line">                        <span class="attr">else</span> <span class="string">begin bai1&lt;=bai1-1;end                     </span></span><br><span class="line">                        <span class="attr">end</span></span><br><span class="line">            <span class="attr">end</span>   <span class="string"></span></span><br><span class="line">            <span class="attr">else</span> <span class="string">if(!pause&amp;&amp;cnt)</span></span><br><span class="line">            <span class="attr">begin</span> <span class="string">fen2&lt;=0;fen1&lt;=0;miao2&lt;=6;miao1&lt;=0;bai2&lt;=0;bai1&lt;=0;end</span></span><br><span class="line"><span class="attr">end</span></span><br><span class="line"><span class="attr">else</span> <span class="string">if(reset)begin bai1&lt;=0;bai2&lt;=0; end</span></span><br><span class="line"><span class="attr">always</span> <span class="string">@(bai1,bai2,pause,reset)//秒计时，基本和百分秒相同</span></span><br><span class="line"><span class="attr">if(!reversal)</span>                           <span class="string"></span></span><br><span class="line">    <span class="attr">begin</span></span><br><span class="line">        <span class="attr">if(reset)begin</span> <span class="string">miao1&lt;=0;miao2&lt;=0;end                        //else if(pause);//begin miao1&lt;=miao1;end</span></span><br><span class="line">        <span class="attr">else</span> <span class="string">if(!pause)</span></span><br><span class="line">            <span class="attr">begin</span>   <span class="string">if(miao2==5&amp;&amp;miao1&gt;9) begin miao2&lt;=0;miao1&lt;=0;fen1&lt;=fen1+1;  end</span></span><br><span class="line">                    <span class="attr">else</span> <span class="string">begin</span></span><br><span class="line">                        <span class="attr">if(miao1&gt;9)</span> <span class="string">begin miao1&lt;=0;miao2&lt;=miao2+1;end</span></span><br><span class="line">                        <span class="attr">end</span></span><br><span class="line">                        <span class="attr">if(miao1</span>=<span class="string">=9&amp;&amp;miao2==5&amp;&amp;bai1==9&amp;&amp;bai2==9) buzzer&lt;=1;//在每次计时到59秒99时短暂蜂鸣</span></span><br><span class="line">                        <span class="attr">else</span> <span class="string">buzzer&lt;=0;</span></span><br><span class="line">            <span class="attr">end</span>           <span class="string"></span></span><br><span class="line">    <span class="attr">end</span></span><br><span class="line"><span class="attr">else</span> <span class="string">if(reversal)                           </span></span><br><span class="line">    <span class="attr">begin</span></span><br><span class="line">        <span class="attr">if(reset)begin</span> <span class="string">miao1&lt;=0;miao2&lt;=0;end</span></span><br><span class="line">        <span class="attr">else</span> <span class="string">if(!pause&amp;&amp;cnt==0)</span></span><br><span class="line">            <span class="attr">begin</span>   <span class="string">if(miao2==0&amp;&amp;miao1==0&amp;&amp;(fen1&gt;0||fen2&gt;0)) begin miao2&lt;=5;miao1&lt;=9; bai2&lt;=9;bai1&lt;=9;fen1&lt;=fen1-1;  end</span></span><br><span class="line">                    <span class="attr">else</span> <span class="string">begin</span></span><br><span class="line">                        <span class="attr">if(miao1</span>=<span class="string">=0&amp;&amp;miao2&gt;0) begin miao1&lt;=9;miao2&lt;=miao2-1;end</span></span><br><span class="line">                        <span class="attr">if(miao1</span>=<span class="string">=0&amp;&amp;miao2==0&amp;&amp;bai1==0&amp;&amp;bai2==0) buzzer&lt;=1;//倒计时结束后持续蜂鸣，可能还要加上分也等于0？</span></span><br><span class="line">                        <span class="attr">else</span> <span class="string">buzzer&lt;=0;</span></span><br><span class="line">                        <span class="attr">end</span></span><br><span class="line">            <span class="attr">end</span></span><br><span class="line">            <span class="attr">else</span> <span class="string">if(!pause&amp;&amp;cnt)</span></span><br><span class="line">            <span class="attr">begin</span> <span class="string">fen2&lt;=0;fen1&lt;=0;miao2&lt;=6;miao1&lt;=0;bai2&lt;=0;bai1&lt;=0;end//cnt信号表示进行60秒倒计时</span></span><br><span class="line">    <span class="attr">end</span> <span class="string"></span></span><br><span class="line"><span class="attr">else</span> <span class="string">if(reset)begin miao1&lt;=0;miao2&lt;=0;end</span></span><br><span class="line"><span class="attr">always</span> <span class="string">@(miao1,miao2,pause,reset)//分计时</span></span><br><span class="line"><span class="attr">if(!reversal)</span>     <span class="string"></span></span><br><span class="line">    <span class="attr">begin</span></span><br><span class="line">        <span class="attr">if(reset)</span></span><br><span class="line">            <span class="attr">begin</span> <span class="string">fen1&lt;=0;fen2&lt;=0;end                                    //else if(pause);//begin fen1&lt;=fen1;end</span></span><br><span class="line">        <span class="attr">else</span> <span class="string">if(!pause)</span></span><br><span class="line">            <span class="attr">begin</span>   <span class="string">if(fen2==5&amp;&amp;fen1&gt;9)begin fen2&lt;=0;fen1&lt;=0;end</span></span><br><span class="line">                    <span class="attr">else</span> <span class="string">begin</span></span><br><span class="line">                        <span class="attr">if(fen1&gt;9)begin</span>  <span class="string">fen1&lt;=0; fen2&lt;=fen2+1;end</span></span><br><span class="line">                        <span class="attr">end</span></span><br><span class="line">            <span class="attr">end</span></span><br><span class="line">    <span class="attr">end</span></span><br><span class="line"><span class="attr">else</span> <span class="string">if(reversal)   </span></span><br><span class="line">    <span class="attr">begin</span></span><br><span class="line">        <span class="attr">if(reset)begin</span> <span class="string">fen1&lt;=0;fen2&lt;=0;end</span></span><br><span class="line">        <span class="attr">else</span> <span class="string">if(!pause&amp;&amp;cnt==0)</span></span><br><span class="line">            <span class="attr">begin</span> <span class="string">if(fen1==0&amp;&amp;fen2&gt;0)begin  fen1&lt;=9;miao2&lt;=5;miao1&lt;=9; bai2&lt;=9;bai1&lt;=9;fen2&lt;=fen2-1;end                       </span></span><br><span class="line">            <span class="attr">end</span></span><br><span class="line">    <span class="attr">end</span></span><br><span class="line">    <span class="attr">else</span> <span class="string">if(!pause&amp;&amp;cnt)</span></span><br><span class="line">            <span class="attr">begin</span> <span class="string">fen2&lt;=0;fen1&lt;=0;miao2&lt;=6;miao1&lt;=0;bai2&lt;=0;bai1&lt;=0;end</span></span><br><span class="line"><span class="attr">else</span> <span class="string">if(reset) begin fen1&lt;=0;fen2&lt;=0;end</span></span><br><span class="line"><span class="attr">endmodule</span></span><br></pre></td></tr></table></figure><p>激励文件</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">`timescale <span class="number">1</span>ns / <span class="number">1</span>ps</span><br><span class="line"><span class="comment">//////////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"></span><br><span class="line">module tb_chronograph();</span><br><span class="line">reg clk,pause,reset,reversal,cnt;</span><br><span class="line">wire [<span class="number">3</span>:<span class="number">0</span>] bai1,bai2,miao1,miao2,fen1,fen2,buzzer;</span><br><span class="line">chronograph i1(</span><br><span class="line">        .clk(clk),</span><br><span class="line">        .pause(pause),</span><br><span class="line">        .reset(reset),</span><br><span class="line">        .bai1(bai1),</span><br><span class="line">        .bai2(bai2),</span><br><span class="line">        .miao1(miao1),</span><br><span class="line">        .miao2(miao2),</span><br><span class="line">        .fen1(fen1),</span><br><span class="line">        .fen2(fen2),</span><br><span class="line">        .reversal(reversal),</span><br><span class="line">        .cnt(cnt),</span><br><span class="line">        .buzzer(buzzer)</span><br><span class="line">        );</span><br><span class="line">initial begin</span><br><span class="line">    clk = <span class="number">1</span>;reset = <span class="number">1</span>;pause = <span class="number">0</span>;reversal=<span class="number">0</span>;cnt=<span class="number">0</span>;</span><br><span class="line">#<span class="number">1</span>;reset = <span class="number">0</span>;</span><br><span class="line">#<span class="number">5</span>;pause = \x7epause;<span class="comment">//时延可以设置为相同，之前以为这个数字是连续的正常时间才把间隔越搞越大，实际上就是时间间隔</span></span><br><span class="line">#<span class="number">10</span>;pause = \x7epause;</span><br><span class="line">#<span class="number">15</span>;pause = \x7epause;</span><br><span class="line">#<span class="number">20</span>;pause = \x7epause;</span><br><span class="line">#<span class="number">3000</span>;reset=<span class="number">0</span>;reversal=<span class="number">1</span>;</span><br><span class="line">#<span class="number">7000</span>;reversal=<span class="number">0</span>;</span><br><span class="line">#<span class="number">15000</span>;reset=<span class="number">0</span>;reversal=<span class="number">1</span>;cnt=<span class="number">1</span>;</span><br><span class="line">#<span class="number">15010</span>;cnt=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">always begin</span><br><span class="line">    #<span class="number">1</span> clk=\x7eclk;end</span><br><span class="line">endmodule</span><br></pre></td></tr></table></figure><h1>仿真波形图</h1><p><img src="https://s2.loli.net/2024/03/14/ibQhaA9zUZkmWvM.png" alt="基础计时 重置时间和暂停功能.png"></p><center>基础计时 重置时间和暂停功能</center><p><img src="https://s2.loli.net/2024/03/14/WDcRoqsUp28yhSX.png" alt="从当前时间倒计时.png"></p><center>从当前时间倒计时</center><p><img src="https://s2.loli.net/2024/03/14/agVpfnDhKreTN9d.png" alt="正常计时至59秒99时短暂蜂鸣.png"></p><center>正常计时至59秒99时短暂蜂鸣</center><p><img src="https://s2.loli.net/2024/03/14/thYGd2mrEgvyRaq.png" alt="倒计时状态下计时结束持续蜂鸣.png"></p><center>倒计时状态下计时结束持续蜂鸣</center><p><img src="https://s2.loli.net/2024/03/14/E51xcfZLkOpzla4.png" alt="60秒信号停止输入且倒计时信号继续输入开始从60秒倒计时.png"></p><center>60秒信号停止输入且倒计时信号继续输入开始从60秒倒计时</center><p><img src="https://s2.loli.net/2024/03/14/8gxTL1Q45qydCsj.png" alt="取消倒计时后正常计时停止蜂鸣.png"></p><center>取消倒计时后正常计时停止蜂鸣</center><p><img src="https://s2.loli.net/2024/03/14/LwbBEJiGO5gYlX4.png" alt="倒计时和60秒信号同时触发60秒倒计时_未设置上升沿触发导致不同步_.png"></p><center>倒计时和60秒信号同时触发60秒倒计时未设置上升沿触发导致不同步</center><p><img src="https://s2.loli.net/2024/03/14/c5ZiM1tvTLnGbUP.png" alt="整体情况.png"></p><center>整体情况</center><p>一次比较简单的课程设计，主要考察Verilog HDL的基础运用，时间原因未设计编译码模块并连接开发板测试实际效果，文章如有错误还望指出！</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;一、课程设计的地位与任务&lt;/h1&gt;
&lt;p&gt;《系统设计与仿真课程设计》是电子信息、通信工程专业安排的必修的一门电子电路综合技能训练课程。通过本课程的学习，使同学们掌握常用电子元器件的应用，熟练掌握模拟集成电路、数字集成电路、单片机集成电路的设计方法与应用；理解中规模、大规模</summary>
      
    
    
    
    <category term="旧日" scheme="https://yuxcoo.github.io/categories/%E6%97%A7%E6%97%A5/"/>
    
    
    <category term="Verilog" scheme="https://yuxcoo.github.io/tags/Verilog/"/>
    
    <category term="电子" scheme="https://yuxcoo.github.io/tags/%E7%94%B5%E5%AD%90/"/>
    
  </entry>
  
  <entry>
    <title>小记数字图像处理</title>
    <link href="https://yuxcoo.github.io/post/fbbe638c.html"/>
    <id>https://yuxcoo.github.io/post/fbbe638c.html</id>
    <published>2022-03-10T11:09:00.000Z</published>
    <updated>2024-03-14T14:59:45.786Z</updated>
    
    <content type="html"><![CDATA[<h1>数字图像处理第3章图像增强</h1><p><s>若数学公式加载失败，请移步<a href="https://yxcnb.ml/index.php/archives/77/">主站</a></s></p><h2 id="γ校正">γ校正</h2><p>非线性部件的输人-输出特性，都是一个能够反映各自特性的幂函数，即如果输人的光信号强度为L,输出的电信号强度为I,则输入、输出之间的关系满足</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mo>=</mo><mi>c</mi><mo separator="true">⋅</mo><msup><mi>L</mi><mi>γ</mi></msup></mrow><annotation encoding="application/x-tex">I = c · L^γ</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">c</span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05556em;">γ</span></span></span></span></span></span></span></span></span></span></span></p><p>c为放大倍数（常数），γ为幂函数的指数，用于衡量非线性部件的转换特性，称为<strong>幂律转换特性</strong>，又称γ特性，对非线性关系的校正称为<strong>γ校正</strong><br><br/><br><em>对比度计算公式</em></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo>=</mo><msub><mo>∑</mo><mi>δ</mi></msub><mi>δ</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><msub><mi>P</mi><mi>δ</mi></msub><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">C=\sum_{\delta}\delta(i,j)^2P_\delta(i,j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1138em;vertical-align:-0.2997em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1864em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03785em;">δ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03785em;">δ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span></span></span></span></p><p>计算方式有四近邻或八近邻，略</p><h2 id="线性对比度展宽">线性对比度展宽</h2><p>线性对比度展宽处理，实际上是图像灰度值的线性映射。假设处理后图像与处理前图像的量化级数相同，即处理前后图像的灰度分布范围均为[0,255],则如果需要进行对比度展宽,从原理上说，只能通过抑制非重要信息的对比度来腾出空间给重要信息进行对比度的展宽。<br>设原图像的灰度为 f(i,j),处理后图像的灰度为g(i, j),设原图重要景物灰度在[fa，fb]范围内，处理后灰度分布在[ga，gb]内，α&lt;1,γ&lt;1,表示对非重要景物的抑制，β&gt;1表示重要景物的对比度展宽增强。<br>对比度线性展宽计算公式</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>g</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>α</mi><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>0</mn><mo>≤</mo><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>&lt;</mo><msub><mi>f</mi><mi>a</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>β</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>−</mo><msub><mi>f</mi><mi>a</mi></msub><mo stretchy="false">)</mo><mo>+</mo><msub><mi>g</mi><mi>a</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>f</mi><mi>a</mi></msub><mo>≤</mo><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>&lt;</mo><msub><mi>f</mi><mi>b</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>γ</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>−</mo><msub><mi>f</mi><mi>b</mi></msub><mo stretchy="false">)</mo><mo>+</mo><msub><mi>g</mi><mi>b</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>f</mi><mi>b</mi></msub><mo>≤</mo><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>&lt;</mo><mn>255</mn></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">g(i,j) =\begin{cases}\alpha f(i,j),  &amp; 0\le f(i,j)\lt f_a \\[2ex]\beta(f(i,j)-f_a)+g_a, &amp; f_a\le f(i,j)\lt f_b \\[2ex]\gamma(f(i,j)-f_b)+g_b, &amp;f_b\le f(i,j)\lt 255\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:6.044em;vertical-align:-2.772em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-1.366em;"><span class="pstrut" style="height:3.216em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-1.358em;"><span class="pstrut" style="height:3.216em;"></span><span style="height:1.216em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.8889em' height='1.216em' style='width:0.8889em' viewBox='0 0 888.89 1216' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V1216 H384z M384 0 H504 V1216 H384z'/></svg></span></span><span style="top:-3.216em;"><span class="pstrut" style="height:3.216em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.358em;"><span class="pstrut" style="height:3.216em;"></span><span style="height:1.216em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.8889em' height='1.216em' style='width:0.8889em' viewBox='0 0 888.89 1216' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V1216 H384z M384 0 H504 V1216 H384z'/></svg></span></span><span style="top:-5.566em;"><span class="pstrut" style="height:3.216em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.272em;"><span style="top:-5.272em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mpunct">,</span></span></span><span style="top:-2.97em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-0.668em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.772em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.272em;"><span style="top:-5.272em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.97em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-0.668em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">255</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.772em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>(i=1,2,…,m;j=1,2,…,n)<br>其中，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>=</mo><mfrac><msub><mi>g</mi><mi>a</mi></msub><msub><mi>f</mi><mi>a</mi></msub></mfrac><mo separator="true">,</mo><mi>β</mi><mo>=</mo><mfrac><mrow><msub><mi>g</mi><mi>b</mi></msub><mo>−</mo><msub><mi>g</mi><mi>a</mi></msub></mrow><mrow><msub><mi>f</mi><mi>b</mi></msub><mo>−</mo><msub><mi>f</mi><mi>a</mi></msub></mrow></mfrac><mo separator="true">,</mo><mi>γ</mi><mo>=</mo><mfrac><mrow><mn>255</mn><mo>−</mo><msub><mi>g</mi><mi>b</mi></msub></mrow><mrow><mn>255</mn><mo>−</mo><msub><mi>g</mi><mi>b</mi></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">\alpha =\frac{g_a}{f_a},\beta =\frac{g_b-g_a}{f_b-f_a},\gamma =\frac{255-g_b}{255-g_b}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2286em;vertical-align:-0.4811em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7475em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.1076em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4811em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.3355em;vertical-align:-0.4811em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8544em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:-0.1076em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1512em;"><span></span></span></span></span></span></span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.1076em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1512em;"><span></span></span></span></span></span></span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4811em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.3783em;vertical-align:-0.4811em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8972em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">255</span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1512em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">255</span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1512em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4811em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>，图像的大小为m*n</p><p>当得到一张矩阵形式的灰度图像时，若要进行线性对比度展宽，需先画出灰度直方图，确认原图重要景物的灰度分布范围fa，fb，根据需要确认处理后的灰度范围ga，gb，代入公式进行计算</p><h2 id="灰级窗与灰级窗切片">灰级窗与灰级窗切片</h2><p>灰级窗是将灰度值在一定范围内的目标进行对比度增强，使范围内像素映射到另一范围，使其达到分离图像区域（切片）以及高亮（映射）的效果，灰级窗映射计算公式</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>g</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>0</mn><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>0</mn><mo>≤</mo><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>&lt;</mo><msub><mi>f</mi><mi>a</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>β</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>−</mo><msub><mi>f</mi><mi>a</mi></msub><mo stretchy="false">)</mo><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>f</mi><mi>b</mi></msub><mo>≤</mo><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>&lt;</mo><msub><mi>f</mi><mi>a</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>0</mn><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>f</mi><mi>b</mi></msub><mo>≤</mo><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>&lt;</mo><mn>255</mn></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">g(i,j) =\begin{cases}0,  &amp; 0\le f(i,j)\lt f_a \\[2ex]\beta(f(i,j)-f_a), &amp; f_b\le f(i,j)\lt f_a \\[2ex]0, &amp;f_b\le f(i,j)\lt 255\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:6.044em;vertical-align:-2.772em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-1.366em;"><span class="pstrut" style="height:3.216em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-1.358em;"><span class="pstrut" style="height:3.216em;"></span><span style="height:1.216em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.8889em' height='1.216em' style='width:0.8889em' viewBox='0 0 888.89 1216' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V1216 H384z M384 0 H504 V1216 H384z'/></svg></span></span><span style="top:-3.216em;"><span class="pstrut" style="height:3.216em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.358em;"><span class="pstrut" style="height:3.216em;"></span><span style="height:1.216em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.8889em' height='1.216em' style='width:0.8889em' viewBox='0 0 888.89 1216' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V1216 H384z M384 0 H504 V1216 H384z'/></svg></span></span><span style="top:-5.566em;"><span class="pstrut" style="height:3.216em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.272em;"><span style="top:-5.272em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">0</span><span class="mpunct">,</span></span></span><span style="top:-2.97em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span></span></span><span style="top:-0.668em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">0</span><span class="mpunct">,</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.772em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.272em;"><span style="top:-5.272em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.97em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-0.668em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">255</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.772em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>(i=1,2,…,m;j=1,2,…,n)<br>其中，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi><mo>=</mo><mfrac><mn>255</mn><mrow><msub><mi>f</mi><mi>b</mi></msub><mo>−</mo><msub><mi>f</mi><mi>a</mi></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">\beta =\frac{255}{f_b-f_a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.3262em;vertical-align:-0.4811em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:-0.1076em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1512em;"><span></span></span></span></span></span></span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.1076em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">255</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4811em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>，图像的大小为m*n<br>灰级窗切片计算公式</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>g</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>0</mn><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>0</mn><mo>≤</mo><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>&lt;</mo><msub><mi>f</mi><mi>a</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>255</mn><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>f</mi><mi>a</mi></msub><mo>≤</mo><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>&lt;</mo><msub><mi>f</mi><mi>b</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>0</mn><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>f</mi><mi>b</mi></msub><mo>≤</mo><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>&lt;</mo><mn>255</mn></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">g(i,j) =\begin{cases}0,  &amp; 0\le f(i,j)\lt f_a \\[2ex]255, &amp; f_a\le f(i,j)\lt f_b \\[2ex]0, &amp;f_b\le f(i,j)\lt 255\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:6.044em;vertical-align:-2.772em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-1.366em;"><span class="pstrut" style="height:3.216em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-1.358em;"><span class="pstrut" style="height:3.216em;"></span><span style="height:1.216em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.8889em' height='1.216em' style='width:0.8889em' viewBox='0 0 888.89 1216' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V1216 H384z M384 0 H504 V1216 H384z'/></svg></span></span><span style="top:-3.216em;"><span class="pstrut" style="height:3.216em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.358em;"><span class="pstrut" style="height:3.216em;"></span><span style="height:1.216em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.8889em' height='1.216em' style='width:0.8889em' viewBox='0 0 888.89 1216' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V1216 H384z M384 0 H504 V1216 H384z'/></svg></span></span><span style="top:-5.566em;"><span class="pstrut" style="height:3.216em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.272em;"><span style="top:-5.272em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">0</span><span class="mpunct">,</span></span></span><span style="top:-2.97em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">255</span><span class="mpunct">,</span></span></span><span style="top:-0.668em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">0</span><span class="mpunct">,</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.772em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.272em;"><span style="top:-5.272em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.97em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-0.668em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">255</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.772em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>(i=1,2,…,m;j=1,2,…,n)，图像的大小为m*n</p><h2 id="动态范围调整">动态范围调整</h2><h3 id="线性动态范围调整">线性动态范围调整</h3><p>线性动态范围是先进行亮暗限幅，即将图像中黑的像素值调大,由0调整到a，白的像素值调小，由255调整到b。然后将区域[a,b]进行线性映射到[0,255]范围内。使一部分较暗的像素点以及较亮的像素点进入饱和，中间部分的像素值因为可以进行对比度扩展，而使得其细节部分看的更加清楚，结果是目标区域的像素得到增强，两边区域的细节丢失。线性动态范围调整公式</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>g</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>0</mn><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>&lt;</mo><msub><mi>f</mi><mi>a</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mfrac><mn>255</mn><mrow><mi>b</mi><mo>−</mo><mi>a</mi></mrow></mfrac><mo stretchy="false">[</mo><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>−</mo><mi>a</mi><mo stretchy="false">]</mo><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>f</mi><mi>a</mi></msub><mo>≤</mo><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>&lt;</mo><msub><mi>f</mi><mi>b</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>255</mn><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>&gt;</mo><msub><mi>f</mi><mi>b</mi></msub></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">g(i,j) =\begin{cases}0,  &amp; f(i,j)\lt f_a \\[2ex]\frac{255}{b-a}[f(i,j)-a], &amp; f_a\le f(i,j)\lt f_b \\[2ex]255, &amp;f(i,j)\gt f_b\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:6.044em;vertical-align:-2.772em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-1.366em;"><span class="pstrut" style="height:3.216em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-1.358em;"><span class="pstrut" style="height:3.216em;"></span><span style="height:1.216em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.8889em' height='1.216em' style='width:0.8889em' viewBox='0 0 888.89 1216' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V1216 H384z M384 0 H504 V1216 H384z'/></svg></span></span><span style="top:-3.216em;"><span class="pstrut" style="height:3.216em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.358em;"><span class="pstrut" style="height:3.216em;"></span><span style="height:1.216em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.8889em' height='1.216em' style='width:0.8889em' viewBox='0 0 888.89 1216' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V1216 H384z M384 0 H504 V1216 H384z'/></svg></span></span><span style="top:-5.566em;"><span class="pstrut" style="height:3.216em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.272em;"><span style="top:-5.272em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">0</span><span class="mpunct">,</span></span></span><span style="top:-2.97em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight">a</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">255</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4033em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">a</span><span class="mclose">]</span><span class="mpunct">,</span></span></span><span style="top:-0.668em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">255</span><span class="mpunct">,</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.772em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.272em;"><span style="top:-5.272em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.97em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-0.668em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.772em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>(i=1,2,…,m;j=1,2,…,n)，图像的大小为m*n,[a,b]为灰度变化范围</p><h3 id="非线性动态范围调整">非线性动态范围调整</h3><p>非线性动态范围调整的作用是抑制高亮度区域，扩展低亮度区域，一定程度解决了景物中高亮度区的信号掩盖暗区信号问题。<br>非线性动态范围调整的计算公式<br>g(i,j)=c · lg(1+f(i,j)) (i=1,2,…,m;j=1,2,…,n)<br>首先计算<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mtext>灰度变化范围</mtext><mrow><mi>l</mi><mi>g</mi><mo stretchy="false">(</mo><mtext>灰度变化范围</mtext><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{灰度变化范围}{lg(灰度变化范围+1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3923em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="mopen mtight">(</span><span class="mord cjk_fallback mtight">灰度变化范围</span><span class="mbin mtight">+</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord cjk_fallback mtight">灰度变化范围</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>，再计算g(i,j)</p><h2 id="直方图均衡化">直方图均衡化</h2><p>对图像中像素个数多的灰度值进行展宽，对像素个数多的灰度值进行进行归并，设f(i,j),g(i,j)(i=1,2,…,M;j=1,2,…,N)分别为原图像和处理后图像图像的灰度变化范围为[0，255]，方法如下<br>①求原图<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><msub><mo stretchy="false">]</mo><mrow><mi>M</mi><mo>∗</mo><mi>N</mi></mrow></msub></mrow><annotation encoding="application/x-tex">[f(i,j)]_{M*N}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span><span class="mbin mtight">∗</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的灰度直方图，设用256维的向量<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>h</mi><mi>f</mi></msub></mrow><annotation encoding="application/x-tex">h_f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9805em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>表示<br>②由<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>h</mi><mi>f</mi></msub></mrow><annotation encoding="application/x-tex">h_f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9805em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>求原图的灰度分布概率，记作<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mi>f</mi></msub></mrow><annotation encoding="application/x-tex">p_f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>,则</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>p</mi><mi>f</mi></msub><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><msub><mi>N</mi><mi>f</mi></msub></mfrac><mo separator="true">⋅</mo><msub><mi>h</mi><mi>f</mi></msub><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>i</mi><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mn>255</mn></mrow><annotation encoding="application/x-tex">p_f(i)=\frac{1}{N_f} · h_f(i), i=0,1,2,…,255</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.2935em;vertical-align:-0.9721em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9721em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">255</span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>N</mi><mi>f</mi></msub></mrow><annotation encoding="application/x-tex">N_f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>=M*N,为图像的总像素个数<br>③计算图像各个灰度值的累计分布概率，记作<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mi>a</mi></msub></mrow><annotation encoding="application/x-tex">p_a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，则</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>p</mi><mi>a</mi></msub><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mi>i</mi></munderover><msub><mi>p</mi><mi>f</mi></msub><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>i</mi><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mn>255</mn><msub><mi>p</mi><mi>a</mi></msub><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">p_a(i)=\sum_{k=0}^i p_f(k), i=0,1,2,…,255p_a(0)=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.1138em;vertical-align:-1.3021em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8117em;"><span style="top:-1.8479em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3021em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">255</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></span></p><p>④进行直方图均衡化计算处理后像素值g(i,j)=255 · <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mi>a</mi></msub></mrow><annotation encoding="application/x-tex">p_a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>(k)</p><h2 id="同态滤波">同态滤波</h2><p>f(x,y)=i(x,y) · r(x,y)<br>两边取对数得lnf(x,y)=lni(x,y)+lnr(x,y)<br>两边进行傅里叶变换得F(u,v)=I(u,v)+R(u,v)<br>用频域滤波函数H(u,v)进行滤波得H(u,v)F(u,v)=H(u,v)I(u,v)+H(u,v)R(u,v)，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mi>f</mi></msub><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>H</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo><mo>+</mo><msub><mi>H</mi><mi>r</mi></msub><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">H_f(u,v)=H_i(u,v)+H_r(u,v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span></span></span></span><br>反变换到空域得<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>h</mi><mi>f</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>h</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>+</mo><msub><mi>h</mi><mi>r</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">h_f(x,y)=h_i(x,y)+h_r(x,y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span><br>取指数得同态滤波图像<br>g(x,y)=exp|<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>h</mi><mi>f</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">h_f(x,y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span>|=exp|<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>h</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">h_i(x,y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span>|=exp|<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>h</mi><mi>r</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">h_r(x,y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span>|</p><h2 id="伪彩色"><a href="https://baike.baidu.com/item/%E4%BC%AA%E5%BD%A9%E8%89%B2/3429626">伪彩色</a></h2><p>以上为数字图像处理（科学出版社）第3章给出的图像增强方法，附习题<br><img src="https://s2.loli.net/2024/03/14/NyVFMt3L1jJ8OkS.png" alt="数字图像处理例题.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;数字图像处理第3章图像增强&lt;/h1&gt;
&lt;p&gt;&lt;s&gt;若数学公式加载失败，请移步&lt;a href=&quot;https://yxcnb.ml/index.php/archives/77/&quot;&gt;主站&lt;/a&gt;&lt;/s&gt;&lt;/p&gt;
&lt;h2 id=&quot;γ校正&quot;&gt;γ校正&lt;/h2&gt;
&lt;p&gt;非线性部件的输人</summary>
      
    
    
    
    <category term="旧日" scheme="https://yuxcoo.github.io/categories/%E6%97%A7%E6%97%A5/"/>
    
    
    <category term="电子" scheme="https://yuxcoo.github.io/tags/%E7%94%B5%E5%AD%90/"/>
    
    <category term="图像处理" scheme="https://yuxcoo.github.io/tags/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>以太网和IP</title>
    <link href="https://yuxcoo.github.io/post/ab626e9a.html"/>
    <id>https://yuxcoo.github.io/post/ab626e9a.html</id>
    <published>2022-02-11T10:08:27.000Z</published>
    <updated>2024-03-15T05:38:40.107Z</updated>
    
    <content type="html"><![CDATA[<p>摘要：局域网技术的概述，IP基本原理以及IP子网划分</p><blockquote><p>本期内容较为杂乱且基础，故列出以下大致目录</p><ul><li>早期以太网技术</li><li>全双工与半双工</li><li>MDI与MDIX</li><li>CSMA/CD</li><li>以太网流量控制</li><li>现代以太网技术</li><li>WLAN技术</li><li>CSMA/CA</li><li>广域网基本原理</li><li>常见接口</li><li>IP基本原理</li></ul></blockquote><p><img src="https://s2.loli.net/2024/03/15/QA6kdFPHURLEpw1.png" alt="局域网技术 目前仅以太网仍在使用"><br><strong>早期以太网技术</strong></p><table><thead><tr><th style="text-align:center">名称</th><th style="text-align:center">速率</th><th style="text-align:center">介质类型</th><th style="text-align:center">最大线缆长度</th></tr></thead><tbody><tr><td style="text-align:center">10BASE5</td><td style="text-align:center">10 Mbps</td><td style="text-align:center">粗同轴电缆</td><td style="text-align:center">500m</td></tr><tr><td style="text-align:center">10BASE2</td><td style="text-align:center">10 Mbps</td><td style="text-align:center">细同轴电缆</td><td style="text-align:center">200m</td></tr><tr><td style="text-align:center">10BASE-T</td><td style="text-align:center">10 Mbps</td><td style="text-align:center">双绞线</td><td style="text-align:center">100m</td></tr></tbody></table><p>以10BASE5为例，10表示传输速率最高为10Mbps，5表示最大线缆长度为500m，仍可使用中继器将其延长，但最大长度不超过2000m。<em>10BASE-T为常见的网线</em><br><img src="https://s2.loli.net/2024/03/15/5k69vt18PcbzTLu.png" alt="RJ-45接头即水晶头"><br>集线器和中继器的工作方式都为<a href="https://baike.baidu.com/item/%E5%8D%8A%E5%8F%8C%E5%B7%A5/309852?fr=aladdin">半双工</a><br>光纤的工作方式为<a href="https://baike.baidu.com/item/%E5%85%A8%E5%8F%8C%E5%B7%A5/310007?fr=aladdin">全双工</a><br>半双工指在同一时间两端只能发送或接受信号，全双工则能同时收发信号并且不会产生冲突。<br><a href="https://zh.wikipedia.org/wiki/%E4%BB%8B%E8%B4%A8%E7%9B%B8%E5%85%B3%E6%8E%A5%E5%8F%A3"><strong>MDI和MDIX</strong></a></p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">主机网卡(MDI)</th><th style="text-align:center">路由器以太口(MDI)</th><th style="text-align:center">交换机/集线器接入口(MDIX)</th><th style="text-align:center">交换机/集线器级连口（MDI）</th></tr></thead><tbody><tr><td style="text-align:center">主机网卡(MDI)</td><td style="text-align:center">交叉线</td><td style="text-align:center">交叉线</td><td style="text-align:center">直连线</td><td style="text-align:center">N/A</td></tr><tr><td style="text-align:center">路由器以太口(MDI)</td><td style="text-align:center">交叉线</td><td style="text-align:center">交叉线</td><td style="text-align:center">直连线</td><td style="text-align:center">N/A</td></tr><tr><td style="text-align:center">交换机/集线器接入口(MDIX)</td><td style="text-align:center">直连线</td><td style="text-align:center">直连线</td><td style="text-align:center">交叉线</td><td style="text-align:center">直连线</td></tr><tr><td style="text-align:center">交换机/集线器级连口(MDI)</td><td style="text-align:center">N/A</td><td style="text-align:center">N/A</td><td style="text-align:center">直连线</td><td style="text-align:center">交叉线</td></tr><tr><td style="text-align:center">同类接口互连用交叉线，异类接口互连用直连线</td><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center"></td></tr></tbody></table><p><a href="https://baike.baidu.com/item/CSMA/CD/986847"><strong>CSMA/CD</strong></a><br>目的：解决总线型拓扑结构中半双工的收发冲突<br>工作机制：载波侦听-&gt;空闲-&gt;抢占-&gt;检测冲突-&gt;随即退避-&gt;退避期满，继续发送<br>缺点：延迟高</p><hr><p>数据的发送方式：<a href="https://baike.baidu.com/item/%E5%8D%95%E6%92%AD/8946201?fr=aladdin">单播</a>，<a href="https://baike.baidu.com/item/%E7%BB%84%E6%92%AD/8946116?fr=aladdin">组播</a>，广播<br>数据链路层的以太网流量控制（防止传输速率太快导致数据丢失）方式：在半双工线路上采用<strong>背压式流控</strong>，接收方反向发送电压信号制造冲突，使发送方停止发送：在全双工线路上采用<strong>802.3 PAUSE流控</strong>接收方向保留组播地址01-80-C2-00-00-01发送PAUSE帧，通知发送方停止发送<img src="https://s2.loli.net/2024/03/15/VUwd6M7lOAPzQNx.png" alt="流控"></p><hr><h2 id="现代以太网技术">现代以太网技术</h2><p>现代以太网采用交换机取代了中继器和集线器进行以太网拓扑，隔离冲突域，避免冲突域过大，进一步扩大物理连接范围，提高以太网带宽利用率，增加吞吐量，适应不同的速率和不同的双工状况。<br><strong>WLAN技术</strong><img src="https://s2.loli.net/2024/03/15/Ep1SsxglMiZ3bvf.png" alt="802.11b/g工作频段划分图"><br>无线覆盖原则：蜂窝式覆盖。任意相邻区域使用无频率交叉的频道，如1、6、11频道；适当调整发射功率，避免跨区域同频干扰；蜂窝式无线覆盖实现无交叉频率重复使用<br><br /><br><a href="https://baike.baidu.com/item/CSMA%2FCA/10898090?fr=aladdin">CSMA/CA</a>（载波侦听多点接入／避让机制）<br><img src="https://s2.loli.net/2024/03/15/cgqF2HTuWoKdUmw.png" alt="CSMA/CA"><br>无线网络典型部署：热点覆盖、办公地点无线互联</p><hr><h2 id="广域网基本原理">广域网基本原理</h2><p>目的：局域网主要完成工作站、终端、服务器等在较小物理范围内的互联，只能解决局部的资源共享；广域网可以使相距遥远的局域网互相连接起来，远距离传输数据、语音、视频等，实现大范围的资源共享<br><br /><br>广域网连接方式：专线方式、电路交换方式、分组交换方式<br><strong>接口线缆</strong><br>V.24和V.35均为串行接口<br>G口（以太网口）默认数据链路层协议802.3，S口（串口）默认数据链路层协议PPP。根据不同物理层介质，数据链路层选择不同的协议。<br><em>以下接口线缆非仅广域网中使用</em><br><img src="https://s2.loli.net/2024/03/15/G4lXMKjag2I5bTP.png" alt="V.24接口线缆（支持同/异步）"><br><img src="https://s2.loli.net/2024/03/15/xiZEnrW5FvDdKJM.png" alt="V.35接口线缆（支持同步）"><br><img src="https://s2.loli.net/2024/03/15/nu9rX3L2bfESsKN.png" alt="其他常见接口线缆"></p><hr><hr><hr><h2 id="IP基本原理">IP基本原理</h2><p><strong>IP相关协议（网络层）</strong>：<a href="https://baike.baidu.com/item/ICMP/572452">ICMP</a>、<a href="https://baike.baidu.com/item/Internet%E7%BB%84%E7%AE%A1%E7%90%86%E5%8D%8F%E8%AE%AE?fromtitle=IGMP&amp;fromid=610474">IGMP</a>、<a href="https://baike.baidu.com/item/ARP/609343"><em><strong>ARP</strong></em></a>、<a href="https://baike.baidu.com/item/%E5%8F%8D%E5%90%91%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2%E5%8D%8F%E8%AE%AE?fromtitle=RARP&amp;fromid=610685"><em><strong>RARP</strong></em></a><br>IP的作用：标识节点和链路 ①用唯一的IP地址标识每一个节点②用唯一的IP网络号标识每一个链路；<br>寻址和转发①确定节点所在网络的位置，进而确定节点所在的位置②IP路由器选择适当的路径将IP包转发到目的节点；<br>适应各种数据链路 ①根据链路的MTU对IP包进行分片和重组 ②为了通过实际的数据链路传递信息，须建立IP地 址到数据链路层地址的映射<br><br /><br>IP网络由多个网段构成，每个网段对应一个链路 ，路由器负责将网段连接起来，适配链路层 协议，在网络之间转发数据包<br><br /><br>网络号用于区分不同的IP网络、主机号用于标识该网络内的一个IP节点<br><img src="https://s2.loli.net/2024/03/15/J5VUdthC73kMlHg.png" alt="IP头格式"><br>版本（Version）：用于标识封装是IPv4/IPv6<br>头长度（Internet Header Length,IHL）：描述数据包头的内容长度<br>总长度（Total Length）：数据包总长度，字段长16Bit，数据包最长为65535B<br>标识（Identification）：标识某个分片来自于哪个数据包<br>标志（Flags）：标识数据包是否允许分片<br>Fragment Offset：分片偏移，用于描述分片在数据包中的位置<br>生存时间（Time to Live,TTL）：该数据包允许经过的最多路由器数量（每经过一个路由器值-1，0时丢弃）<br>协议（Protocol）：标识上层协议TCP,6/UDP,17（协议号）<br>头校验和（Header Checksum）：用于检查包头完整性<br>源地址Source Address和目的地址Destination Address：标识数据包的源节点和目的节点IP地址<br><img src="https://s2.loli.net/2024/03/15/7qtn8lPuw3EyXHx.png" alt="IP地址自然分类"><br>A类IP地址：1.0.0.0~126.255.255.255（127为回环测试，127.0.0.1通常表示本机，0.0.0.0通常用于路由器指定默认路由），每个A类网络有2^24个A类IP地址，2^24-2个可用主机数<br>B类IP地址：128.0.0.0~191.255.255.255，每个B类网络有2^16个B类IP地址，2^16-2个可用主机数<br>C类IP地址：192.0.0.0~223.255.255.255，每个C类网络有2^8个C类IP地址，2^8-2个可用主机数<br>D类IP地址：第一个八位段1110开头，取值224~239，通常为组播地址<br>E类IP地址：11110开头，保留用于研究<br>网段（网络地址）：主机号全为0；网段广播（广播地址）：主机号全为1<br>ARP：将IP解析为MAC，RARP为反向ARP解析<br><img src="https://s2.loli.net/2024/03/15/CSRKGJdz4IDWhVZ.png" alt="主机单播IP包发送"><br>若目的地址所处网络号与本机所处网络司号相同，则目的处于直连网段；<br>①处于同一网段，主机可以与其直接通信，此时主机首先解析目的主机IP地址所对应的硬件地址，随即将IP包以此硬件地址为目的地址封装成帧，由直接连结此网段的接口发送给目的主机<br>②如果属于不同网段，则主机需要将IP包交给网关去处理，此时主机根据网关的IP地址解析其物理地址，随即将IP包以此硬件地址为目的地址封装成帧，由直连此网段的接口发送给网关<br><img src="https://s2.loli.net/2024/03/15/tEMpceUq2XKVkxL.png" alt="路由器单播IP包转发"><br>路由器收到IP包首先检查IP包的目的地址是不是自己，是的话就接收此包并将其解封装所得数据交给上层协议处理，如果目的IP不是自己<br>①处于同一个直连网段，可以与其直接通信，此时路由器首先解析目的IP地址所对应的硬件地址，随即将IP包以此硬件地址为目的地址封装成帧，由此直接连接此网段的接口发给目的主机<br>②如果处于不同网段，则需要交给下一跳路由器处理，此时根据路由器上面的路由表查出下一跳的IP地址，解析出一下跳的硬件地址，随即将IP包以此硬件地址为目的地址封装成帧，由此直接连接此网段的接口发给下一跳的路由器<br><img src="https://s2.loli.net/2024/03/15/9yquQawFd5AULfR.png" alt="主机接收IP包"></p><hr><h2 id="IP子网划分">IP子网划分</h2><p>子网划分方法：在主机号中划分出子网号，达到在自然分类中再次划分主机的目的<br><img src="https://s2.loli.net/2024/03/15/FV7hIClTjxiDwYs.png" alt="IP地址与子网掩码"><br>得到一个IP地址首先判断在自然分类中他的网络号的位数，再通过给出的位数相减得到子网号位数；得到一个16进制子网掩码首先将其转换为二进制，再判断子网号位数，用自然分类得出网络地址和广播地址的方式就能得出子网划分后的地址的网络地址/广播地址。<br><img src="https://s2.loli.net/2024/03/15/AOdpElL56UzW8eb.png" alt="根据主机地址数划分子网"><br>可用主机数：2^（主机位数）-2  <em>//此时的主机位数同自然分类中的主机位数-子网号位数</em>（在告知主机数和IP时，用2^（主机位数）-2&gt;=主机数，来算出主机位数和子网位数即可得出子网掩码）<br><img src="https://s2.loli.net/2024/03/15/r2gmklVTa9wfWpi.png" alt="根据子网掩码数计算子网数"><br><img src="https://s2.loli.net/2024/03/15/gOEQTU4ycXpdisJ.png" alt="根据子网数划分子网"><br>可用子网数：2^（子网位数）（在告知子网数和IP时，用2^（子网位数）&gt;=子网数，来算出子网位数即可得出子网掩码）<br>可用主机范围：网络地址+1~广播地址-1<br><strong>VLSM和CIDR</strong><br>子网划分的局限性 ：无法实现把网络划分为不同大小的子网，常常会浪费许多主机地址 ，使用VLSM(Variable Length Subnet Mask，可变长子网掩码）可以允许使用多个子网掩码划分子网，使组织的IP地址空间得到更有效的利用<br>CIDR(Classless Inter-Domain Routing, 无类域间路由） 消除了自然分类地址和子网划分的界限、将网络前缀相同的连续IP地址组成CIDR地址块、支持强化地址汇聚<br><em>题目示例</em><br><em><strong>基于CIDR划分子网</strong></em></p><ol><li>请根据10.0.0.0/8划分4个子网，并给出每个子网的网络地址、广播地址、可用IP地址范围和子网掩码。<br>2^M&gt;=4,M&gt;=2<br>8+2=10位，255.192.0.0<br>10.0.0.0  10.63.255.255   10.0.0.1~10.63.255.254<br>10.64.0.0  10.127.255.255   10.64.0.1~10.127.255.254<br>10.128.0.0  10.191.255.255   10.128.0.1~10.191.255.254<br>10.192.0.0  10.255.255.255   10.192.0.1~10.255.255.254<br><br /></li><li>请根据172.16.96.0/19划分4个子网，并给出每个子网的网络地址、广播地址、可用IP地址范围和子网掩码。<br>2^M&gt;=4,M&gt;=2<br>子网掩码：19+2=21；255.255.248.0<br>172.16.96.0  172.16.103.255  172.16.96.1~172.16.103.254<br>172.16.104.0  172.16.111.255  172.16.104.1~172.16.111.254<br>172.16.112.0  172.16.119.255   172.16.112.1~172.16.119.254<br>172.16.120.0  172.16.127.255   172.16.120.1~172.16.127.254<br><br /></li><li>请根据IP地址为100.100.100.100/11，计算该IP地址所属网段的网络地址、广播地址、可用IP地址范围和子网掩码。<br>100.011 00000.0.0=100.96.0.0<br>100.011 11111.255.255=100.127.255.255<br>可用IP地址范围：100.96.0.1~100.127.255.254<br>255.224.0.0<br><br /></li><li>请根据IP地址为200.200.200.200/27，计算该IP地址所属网段的网络地址、广播地址、可用IP地址范围和子网掩码。<br>200.200.200.110 11111<br>200.200.200.192  200.200.200.223<br>200.200.200.193~200.200.200.222<br>255.255.255.224</li></ol><hr><hr><hr><p><em><strong>基于VLSM划分子网</strong></em></p><ol><li>某公司有A、B、C、D四个部门，计算机数量分别是100台、55台、29台、20台。该公司拟通过192.168.1.0/24划分子网，请给出每个子网的网络地址、广播地址、可用IP地址范围和子网掩码。<br>A：2^n-2&gt;=100,n&gt;=7,32-7=25<br>192.168.1.0 0000000:<br>192.168.1.0  192.168.1.127   192.168.1.1~192.168.1.126<br>B；2^n-2&gt;=55,n&gt;=6;32-6=26<br>192.168.1.1 0 000000:<br>192.168.1.128  192.168.1.191  192.168.1.129~192.168.1.190<br>C:2^n-2&gt;=29,n&gt;=5;32-5=27<br>192.168.1.110 00000:<br>192.168.1.192 192.168.1.223  192.168.1.193~192.168.1.222<br>D:2^n-2&gt;=20,n&gt;=5;32-5=27<br>192.168.1.111 00000:<br>192.168.1.224  192.168.1.255  192.168.1.225~192.168.1.254<br><br /></li><li>某公司向运营商（ISP）申请到200.200.200.160/27的网络地址，数据中心有10台服务器，5个公网IP用作NAT（网络地址转换），其他IP用作网络设备之间提供点对点服务。请划分子网，并给出每个子网的网络地址、广播地址、可用IP地址范围和子网掩码。</li></ol><hr><p><em><strong>地址聚合</strong></em></p><ol><li>某企业分配给产品部的IP地址块为192.168.31.192/26，分配给市场部的IP地址块为192.168.31.160/27，分配给财务部的IP地址块为192.168.31.128/27，那么这三个地址块经过聚合后的地址为（C  ）<br>A、192.168.31.0/25                B、192.168.31.0/26<br>C、192.168.31.128/25              D、192.168.31.128/26<br>比较，相同的部分均为192.168.31，总共24位相同，最后一组换成二进制再比较：<br>192.168.31.11000000<br>192.168.31.10100000<br>192.168.31.10000000<br>比较得出，总共25位相同，那么，聚合后的IP（网络前缀）就为192.168.31.10000000，将10000000转为十进制为128，聚合后的IP就是192.168.31.128。可直接写成192.168.31.128/25。<br>因为有25位相同，也以，子网掩码网络号就是25位，主机号剩下7位，网络号全为1，主机号全为0，即11111111.11111111.11111111.10000000，转换为十进制，255.255.255.128。<br><br /></li><li>有４条路由：172.18.129.0/24, 172.18.130.0/24, 172.18.132.0/24, 172.18.133.0/24,如果进行路由会聚，能覆盖这４条路由的地址是（A ）。<br>A．172.18.128.0/21                B. 172.18.128.0/22<br>C.172.18.130.0/22                 D. 172.18.132.0/23<br>首先从左到右开始，把不同的那个ip数字换算成二进制，<br>即 129 二进制 1000 0001 130 二进制 1000 0010 132 二进制 1000 0100 133 二进制 1000 0101<br>这四个数的前五位相同都是10000，所以加上前面的172.18这两部分相同的位数，网络号就是8+8+5=21。把共同的保留下来，其他全部为0，就是路由汇聚的地址。10000000转换回十进制就是128。所以，路由汇聚的ip地址就是172.18.128.0，最终就是172.18.128.0/21。<br><br /></li><li>为缩小路由表，请根据192.168.20.0/24、192.168.21.0/24、192.168.22.0/24、192.168.23.0/24等4个子网进行地址聚合，求出超网地址。（不同的号位为0）<br>192.168.20.0/24 192.168.00010100.0<br>192.168.21.0/24 192.168.00010101.0<br>192.168.22.0/24 192.168.00010110.0<br>192.168.23.0/24 192.168.00010111.0<br>故可得超网地址为：192.168.20.0/22</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;摘要：局域网技术的概述，IP基本原理以及IP子网划分&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;本期内容较为杂乱且基础，故列出以下大致目录&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;早期以太网技术&lt;/li&gt;
&lt;li&gt;全双工与半双工&lt;/li&gt;
&lt;li&gt;MDI与MDIX&lt;/li&gt;
&lt;li&gt;CSM</summary>
      
    
    
    
    <category term="旧日" scheme="https://yuxcoo.github.io/categories/%E6%97%A7%E6%97%A5/"/>
    
    
    <category term="通信" scheme="https://yuxcoo.github.io/tags/%E9%80%9A%E4%BF%A1/"/>
    
    <category term="IP" scheme="https://yuxcoo.github.io/tags/IP/"/>
    
    <category term="路由" scheme="https://yuxcoo.github.io/tags/%E8%B7%AF%E7%94%B1/"/>
    
  </entry>
  
  <entry>
    <title>OSI和TCPIP</title>
    <link href="https://yuxcoo.github.io/post/b66e59b1.html"/>
    <id>https://yuxcoo.github.io/post/b66e59b1.html</id>
    <published>2022-02-11T10:07:24.000Z</published>
    <updated>2024-03-15T05:12:15.995Z</updated>
    
    <content type="html"><![CDATA[<p>摘要：OSI模型的7层结构及对应功能，TCP/IP模型的分层结构和OSI模型的对比</p><blockquote><p><em>开放式系统互联模型（Open System Interconnection Model，缩写：OSI；简称为OSI模型）是一种概念模型，由国际标准化组织（ISO）提出，一个试图使各种计算机在世界范围内互连为网络的标准框架。定义于ISO/IEC 7498-1。</em><br><em>该模型将通信系统中的数据流划分为七个层，从分布式应用程序数据的最高层表示到跨通信介质传输数据的物理实现。每个中间层为其上一层提供功能，其自身功能则由其下一层提供。功能的类别通过标准的通信协议在软件中实现。</em><br><em>开放式系统互联模型的开发始于上世纪70年代后期，用以支持各种计算机联网方法的出现。在上世纪80年代，该模型成为国际标准化组织（ISO）开放系统互连小组的工作产品。-------------------------维基百科</em></p></blockquote></br><p><strong>OSI七层参考模型有以下优点</strong></p><ol><li>开放的标准化接口</li><li>多厂商兼容性</li><li>易于理解、学习和更新协议标准</li><li>实现模块化工程，降低开发实现的复杂度</li><li>便于故障排除</li></ol><p>OSI参考模型<br>7    应用层：(<em>数据名</em>)应用层协议数据单元APDU（Application Protocol Data Unit）<br>6    表示层：表示层协议数据单元PPDU（Presentation Protocol Data Unit）<br>5    会话层：会话层协议数据单元SPDU（Session Protocol Data Unit）<br>4    传输层：      段  Segment<br>3    网络层：      数据包 Packet<br>2    数据链路层：  帧 Frame<br>1    物理层：      比特流 Bit</p><h2 id="物理层">物理层</h2><p>介质：同轴电缆，双绞线，光纤，串行电缆，电磁波等<br>局域网接口线缆标准：10Base-T、100Base-Tx/Fx、1000Base-T、1000Base-Sx/Lx<br>广域网接口线缆标准：RS-232(EIA/TIA-232)、V.24、V.35<br>常见设备：中继器（局域网），集线器（局域网），调制解调器（广域网）</p><h2 id="数据链路层">数据链路层</h2><p>主要功能：①帧同步（编帧和识别帧）②数据链路的建立，维持和释放③传输资源控制④流量控制⑤差错控制⑥寻址⑦标识上层数据<br>IEEE 802标准：</p><ul><li>802.1描述局域网需要解决的问题（802.1d描述生成树协议）</li><li>802.2 LLC子层标准制定</li><li>802.3 MAC子层标准制定（如解决总线型拓扑的半双工单点故障的技术CSMA/CD）</li><li>802.4 令牌总线标准制定</li><li>802.5 令牌环网标准制定</li><li>802.11 无线局域网标准制定<br><em>我国应用最广的LAN标准是基于IEEE802.3的以太网标准</em><br>广域网数据链路层标准：HDLC（高级数据链路控制）、PPP（点到点协议）、X.25、帧中继协议等<br>常见设备：交换机</li></ul><h2 id="网络层">网络层</h2><p>主要功能：编址、路由选择、拥塞控制、异种网络互连<br>主要协议：路由协议（RIP，OSPF，IS-IS，IGRP，EIGRP，BGP协议等）和可路由协议（IP，IPX协议等）<br><img src="https://s2.loli.net/2024/03/15/XHkK6Bo1iIUASxe.png" alt="路由协议和可路由协议"></p><p>面向连接的服务：适合可靠性要求高的应用。特点①通信前建立连接，通信完成后断开连接②有序传递③应答确认④差错重传<br>无连接的服务：适合对延迟敏感的应用。特点①尽力而为的服务②无需建立连接③无序列号机制，无确认机制，无重传机制</p><h2 id="传输层">传输层</h2><p>主要功能：负责创建端到端的通信连接、差错校验和重传、流量控制。<br>主要协议：TCP、UDP、SPX协议等。</p><h2 id="会话层">会话层</h2><p>利用传输层提供的端到端服务，向表示层或会话用户提供会话服务。</p><h2 id="表示层">表示层</h2><p>转换应用层的信息，对数据进行加密和压缩。</p><h2 id="应用层">应用层</h2><p>对软件提供接口，实现用户与应用程序交互。</p><hr><h2 id="TCP-IP模型">TCP/IP模型</h2><blockquote><p><em>TCP/IP参考模型是一个抽象的分层模型，这个模型中，所有的TCP/IP系列网络协议都归类到4个抽象的“层”中。每一抽象层创建在低一层提供的服务上，并且为高一层提供服务。 完成一些特定的任务需要众多的协议协同工作，这些协议分布在参考模型的不同层中的，因此有时称它们为一个协议栈。 TCP/IP参考模型为TCP/IP协议栈订身制作。其中IP协议只关心如何使得数据能够跨越本地网络边界的问题，而不关心如何利用传输媒体，数据如何传输。整个TCP/IP协议栈则负责解决数据如何通过许许多多个点对点通路（一个点对点通路，也称为一“跳”, 1 hop）顺利传输，由此不同的网络成员能够在许多“跳”的基础上创建相互的数据通路。 如想分析更普遍的网络通信问题，ISO的OSI模型也能起更好的帮助作用。---------------------维基百科</em><br>TCP/IP模型<br>4 应用层：融合了会话层和表示层—主要协议：Telnet，FTP，TFTP，SMTP，SNMP，HTTP等<br>3 传输层：提供端到端连接—主要协议：TCP，UDP<br>2 网络层：使主机能正确将信息发送至任何网络的目标—主要协议：IP，ICMP，IGMP<br>1 网络接口层：主要技术：以太网，FDDI，令牌环，SLIP，HDLC，PPP，X.25，帧中继，ATM<br>其中传输层协议的主要作用：</p></blockquote><ol><li>提供面向连接和无连接的服务</li><li>维护连接状态</li><li>对应用层数据进行分段和封装</li><li>实现多路复用</li><li>可靠的传输数据</li><li>执行流量控制<br><img src="https://s2.loli.net/2024/03/15/E8cdIkbzGlrq3j7.gif" alt=""><br>##OSI参考模型和TCP/IP模型对比##<br><img src="https://s2.loli.net/2024/03/15/2iA4PEJKao9cUgR.jpg" alt=""></li></ol><p><em>以上为个人的粗浅认识，如有不正确之处，还望大佬指正谢谢</em></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;摘要：OSI模型的7层结构及对应功能，TCP/IP模型的分层结构和OSI模型的对比&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;开放式系统互联模型（Open System Interconnection Model，缩写：OSI；简称为OSI模型）是一种概念模型，由国际</summary>
      
    
    
    
    <category term="旧日" scheme="https://yuxcoo.github.io/categories/%E6%97%A7%E6%97%A5/"/>
    
    
    <category term="网络模型" scheme="https://yuxcoo.github.io/tags/%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B/"/>
    
    <category term="通信" scheme="https://yuxcoo.github.io/tags/%E9%80%9A%E4%BF%A1/"/>
    
  </entry>
  
  <entry>
    <title>5G网络架构和组网部署</title>
    <link href="https://yuxcoo.github.io/post/7570f815.html"/>
    <id>https://yuxcoo.github.io/post/7570f815.html</id>
    <published>2022-01-16T13:08:39.000Z</published>
    <updated>2024-03-15T05:00:52.001Z</updated>
    
    <content type="html"><![CDATA[<h2 id="5G网络架构的演进趋势">5G网络架构的演进趋势</h2><blockquote><p>5G移动通信系统包括5GC（5G Core Network，5G核心网）和NG-RAN（Next Generation Radio Access Network，5G无线接入网）。<br>5G核心网与5G接入网通过NG接口连接，实现控制面和用户面功能;<br>5G无线接入网之间通过Xn接口连接，实现控制面和用户面功能。</p></blockquote><p><img src="https://s2.loli.net/2024/03/15/fC2xwoZENAIPU95.png" alt="5G移动通信系统整体架构"><br>图中gNB为5G基站的名称，g代表generation，NB代表NodeB，so gNB is （next）generation NodeB。<br>5G NR：New Radio，指5G的无线空口技术<br>ng-eNB：next generation eNodeB。在option4系列非独立组网架构下（NSA），4G基站必须升级支持eLTE，和5G核心网对接，这种升级后的4G基站就叫ng-eNB。<br><br /><br>Evolved Node B，即演进型Node B简称eNB，LTE中基站的名称，相比现有3G中的Node B，集成了部分RNC的功能，减少了通信时协议的层次。<br>eNB的功能包括：RRM功能；IP头压缩及用户数据流加密；UE附着时的MME选择；寻呼信息的调度传输；广播信息的调度传输；以及设置和提供eNB的测量等。<br><br /><br>Node B是3G移动基站的称呼，它是通过标准的Iub接口与RNC互连，通过Uu接口与UE进行通信，主要完成Uu接口物理层协议和Iub接口协议的处理，相当于一个无线收发信器。<br>一般，Node B主要由控制子系统、传输子系统、射频子系统、中频/基带子系统、天馈子系统等部分组成。<br><br /><br><strong>网元</strong><br><a href="https://baike.baidu.com/item/UPF/13973820?fr=aladdin">UPF</a>：用户面功能，实现用户数据处理<br><a href="https://baike.baidu.com/item/smf/22360829#viewPageContent">SMF</a>/<a href="https://baike.baidu.com/item/AMF/3337707">AMF</a>：控制面功能，实现接入管理</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;5G网络架构的演进趋势&quot;&gt;5G网络架构的演进趋势&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;5G移动通信系统包括5GC（5G Core Network，5G核心网）和NG-RAN（Next Generation Radio Access Network，5G无线接</summary>
      
    
    
    
    <category term="旧日" scheme="https://yuxcoo.github.io/categories/%E6%97%A7%E6%97%A5/"/>
    
    
    <category term="基站" scheme="https://yuxcoo.github.io/tags/%E5%9F%BA%E7%AB%99/"/>
    
    <category term="网络基础" scheme="https://yuxcoo.github.io/tags/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/"/>
    
  </entry>
  
</feed>
